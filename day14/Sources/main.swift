// The Swift Programming Language
// https://docs.swift.org/swift-book

import Foundation
import Utils

/*
 Part 1
 */
var robots = Robot.parse(normalInput)
robots = robots.move(gridSize: normalSize, times: 100)
print("Safety factor after 100 moves: \(robots.safetyFactor(for: normalSize))")
//robots.dump(gridSize: normalSize)

/*
 Part 2
 */

robots = Robot.parse(normalInput)
for counter in 0..<11000 {
    robots = robots.move(gridSize: normalSize, times: 1)
    let hexGrid = robots.hexGrid(gridSize: normalSize)
    for y in 0..<normalSize.height {
        if hexGrid.dump(at: y).contains("####################") {
            print("Found at \(counter + 1):")
            hexGrid.print()
            exit(0)
        }
    }
}

/*

 Safety factor after 100 moves: 226179492
 Found at 7502:
 ..................................#.#................................................................
 .....................................................................................................
 ...................................#..........................#......................................
 ...............#..............................................#..................................#...
 .....#.......................#..............................#........................................
 .....................................................................................................
 .....................................................................................................
 .....................................................................................................
 .............#.........................#.............................................................
 ........................................................#............................................
 .....................................................................................................
 .....................................................................................................
 ......................................................................................#..............
 ........................................................#.#..........................................
 ....................................#................................................................
 .....................................................................................................
 ....................................................................#................................
 .................#...................................................................................
 ....................................#...............###############################..................
 ..................#..................#............#.#.............................#..................
 .......#............................................#.............................#..##..............
 ....................................................#.............................#..................
 .......#........................#...................#.............................#..................
 ....................................................#..............#..............#..............#...
 .................#..................................#.............###.............#..................
 ........#...........................................#............#####............#...#..............
 ....................................................#...........#######...........#..................
 ....................................................#..........#########..........#...#..............
 ....................................................#............#####............#..................
 ....................................................#...........#######...........#.......#..........
 .....................#..............................#..........#########..........#.................#
 ....................................................#.........###########.........#..................
 ......#.............................................#........#############........#..................
 ............................................#.......#..........#########..........#..................
 ....................................................#.........###########.........#..................
 ....................................................#........#############........#..................
 ....................................................#.......###############.......#..................
 ....................................................#......#################......#..................
 ....................................................#........#############........#..................
 ....................................................#.......###############.......#..................
 ....................................................#......#################......#..................
 ...........#..........................#.............#.....###################.....#..................
 .......#...#........................................#....#####################....#..................
 ....................................................#.............###.............#..................
 .........#......................................#...#.............###.............#..................
 ...................................#................#.............###.............#..................
 ....................................................#.............................#.......#..........
 ......#...#.........................................#.............................#..................
 .....................#..............................#.............................#..................
 .............................#......................#.............................#..................
 .................................#.........#........###############################..................
 ............#....................................#..........................................#....#...
 .........#........#...........................................#......................#...............
 ...................................................#.#..............#................................
 .....................................................................................................
 ....#..............................................#..........................#......................
 ....................................#..............................#.................................
 ..................#..................................................................................
 ....#...............................................#..............#.................#...............
 ..#.#....................................#................#..........................................
 ................#..............#...............................#.....................................
 ......#..........#..............#.......................................#............................
 ......................................................#..............................................
 .................#............................................................#......................
 .....................................................................................................
 ..................................................................................#...#..............
 .....................................................................................................
 ....................#................................................................#...............
 .....................................................................................................
 .....................................................................................................
 ............#...........................................................................#............
 .....................................................................................................
 .......#...#.......................................................................#.................
 ........................................#.......................................................#....
 ...........#........#............#..................................................................#
 ................................................................................................#....
 ...............#...............................#.....................................................
 ..#......................................................#..................#.......................#
 .........#...........................................................................................
 #.....................#.........................................................................#....
 ...............................................................................#.....................
 .....................................................................................................
 ........................................................#..........................#.................
 .......................................#.............................................................
 .....................................................................................................
 #..................................#.................................................................
 .......................................................#.............................................
 .......................................#.....................#.......................................
 ..............#.#.....................................#......................................#.......
 .....................................................................................................
 .....................................................................................................
 ................................#....................................................................
 ......#..............................................................................................
 .......................#....#........................................................................
 ..........................#...................................................#...........#..........
 .......#...................................................#...................#.#...................
 .......................#.............................................................................
 ..........#...........................................#..............................................
 ...................................................................#.................................
 ......................................#............................#.................................
 ..........................................#............#....................#........................
 .....................................................................................................
 ...#.................................................................................................
 Program ended with exit code: 0

 */
